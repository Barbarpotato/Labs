<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Integrate Mysql to Flask</title><meta name="description" content="This lab will cover the installation and usage of the flask_mysqldb library. It will include instructions on installing the library, initializing the database in app.py, and providing examples of how to post data and read data from the database."/><meta property="og:title" content="Integrate Mysql to Flask"/><meta property="og:description" content="This lab will cover the installation and usage of the flask_mysqldb library. It will include instructions on installing the library, initializing the database in app.py, and providing examples of how to post data and read data from the database."/><meta property="og:type" content="article"/><meta property="og:url" content="https://barbarpotato.github.io/labs/undefined"/><meta name="next-head-count" content="8"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Labs/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/Labs/_next/static/chunks/webpack-a39982bd6f80347b.js" defer=""></script><script src="/Labs/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/Labs/_next/static/chunks/main-1e09b50edce1e67f.js" defer=""></script><script src="/Labs/_next/static/chunks/pages/_app-753213cf38d40131.js" defer=""></script><script src="/Labs/_next/static/chunks/pages/labs/%5Bslug%5D-b6b888b0a2f30cff.js" defer=""></script><script src="/Labs/_next/static/A-n-baZxhaPab-FReiSSJ/_buildManifest.js" defer=""></script><script src="/Labs/_next/static/A-n-baZxhaPab-FReiSSJ/_ssgManifest.js" defer=""></script></head><body><div id="__next"><article><h1>Integrate Mysql to Flask</h1><p>2024-09-20 11:57:42</p><div><div id="content-3"><h1>Introduction</h1><p>In this article, we will explore how to integrate MySQL with a Flask application using the&nbsp;<code>flask_mysqldb</code>&nbsp;library. This integration allows us to efficiently manage database operations within our Flask web applications. In this lab we will asumme that we are already know to installed the flask application. and we will skip ahead and jump to the sql connection.</p><p><br></p><p>There is a Prerequisites to running this operations:</p><p>Before starting, ensure you have the following installed:</p><ul><li>Python (3.x recommended)</li><li>Flask</li><li>MySQL Server</li><li><code>flask_mysqldb</code>&nbsp;library (<code>pip install flask-mysqldb</code>)</li></ul><p>If we already fulfilled the prerequisites, we will going to install the mysql to the flask application:</p></div><div id="content-4"><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">pip install flask-mysqldb</code></pre></div><div id="content-5"><p>Once the installation is completed, we will initiate all the MySql configuration. in this lab we will going to initiate the configurations file trough the <strong><u>app.py</u></strong> file. This is not recommended if the application continue grows to large scale. but for this demonstration, we are going to do that.</p></div><div id="content-11"><h1>Configure the MYSQL Connections</h1></div><div id="content-12"><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">from flask import Flask, request, jsonify
from flask_mysqldb import MySQL

app = Flask(__name__)
app.config['MYSQL_HOST'] = 'localhost'
app.config['MYSQL_USER'] = 'username'
app.config['MYSQL_PASSWORD'] = 'password'
app.config['MYSQL_DB'] = 'database_name'

mysql = MySQL(app)</code></pre></div><div id="content-14"><p>in the app.py, im importing the flask_mysqldb that we are already installed so we can use it in the app.py file later. after import the module. initiate the mysql configuration just like above. fill the neccessary field such as the password for db, the host user, etc. depends non your localhost mysql server.</p><p>it will be good if we try to running the flask server application and there is no anomaly when we are running it. when there is nothing error when we are running the flask server. that means that out mysql connection configurations form the flask is successful. and we will continue to do some basic mysql operations in this flask server.</p></div><div id="content-15"><h1>CREATE OPERATIONS</h1></div><div id="content-16"><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">app.route('/insert', methods=['POST'])
def insert():
    cur = mysql.connection.cursor()
    data = request.get_json()
    name = data['name']
    age = data['age']
    cur.execute("INSERT INTO users (name, age) VALUES (%s, %s)", (name, age))
    mysql.connection.commit()
    cur.close()
    return jsonify({'message': 'Data inserted successfully'})</code></pre></div><div id="content-17"><p>This code snippet defines a route in a Flask application (<code>/insert</code>) that handles POST requests. When a POST request is made to this endpoint, the function <code>insert()</code> is executed.</p><p>Inside <code>insert()</code>, it establishes a connection to the MySQL database using <code>flask_mysqldb</code>, extracts JSON data containing <code>name</code> and <code>age</code> from the request body, and inserts this data into the <code>users</code> table using an SQL <code>INSERT</code> statement.</p><p>After committing the transaction to the database and closing the cursor, it returns a JSON response confirming successful data insertion. This functionality demonstrates how to integrate MySQL database operations seamlessly into a Flask web application for handling data input.</p></div><div id="content-18"><h1>READ OPERATIONS</h1></div><div id="content-19"><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">@app.route('/users', methods=['GET'])
def users():
    cur = mysql.connection.cursor()
    cur.execute("SELECT * FROM users")
    results = cur.fetchall()
    cur.close()
    users_list = []
    for row in results:
        user = {
            'id': row[0],
            'name': row[1],
            'age': row[2]
        }
        users_list.append(user)
    return jsonify({'users': users_list})</code></pre></div><div id="content-21"><p>Let brak down the code piece by piece!</p><p>So This code snippet defines a route in a Flask application (<code>/users</code>) that handles GET requests. When a GET request is made to this endpoint, the function&nbsp;<code>users()</code>&nbsp;is executed.</p><p>Inside&nbsp;<code>users()</code>, it establishes a connection to the MySQL database using&nbsp;<code>flask_mysqldb</code>, executes an SQL&nbsp;<code>SELECT</code>&nbsp;query to fetch all records from the&nbsp;<code>users</code>&nbsp;table, and fetches all results using&nbsp;<code>cur.fetchall()</code>.</p><p>After retrieving the results, it closes the database cursor to release resources. Then, it iterates through the fetched results to construct a list of dictionaries (<code>users_list</code>), where each dictionary represents a user with keys&nbsp;<code>id</code>,&nbsp;<code>name</code>, and&nbsp;<code>age</code>.</p><p>Finally, it returns a JSON response containing the list of users in the format&nbsp;<code>{'users': users_list}</code>. This functionality demonstrates how to retrieve and format data from a MySQL database using Flask, making it accessible via an API endpoint. Very Simple is in it?</p></div><div id="content-22"><h1>Conclusion</h1></div><div id="content-23"><p>By following these steps, you can effectively integrate MySQL into your Flask applications using <code>flask_mysqldb</code>. This setup enables you to perform essential database operations seamlessly within your web development projects.</p></div></div></article></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"blog_id":"4e309d73-dc31-47b8-816a-901fd092368d","description":"\u003cdiv id=\"content-3\"\u003e\u003ch1\u003eIntroduction\u003c/h1\u003e\u003cp\u003eIn this article, we will explore how to integrate MySQL with a Flask application using the\u0026nbsp;\u003ccode\u003eflask_mysqldb\u003c/code\u003e\u0026nbsp;library. This integration allows us to efficiently manage database operations within our Flask web applications. In this lab we will asumme that we are already know to installed the flask application. and we will skip ahead and jump to the sql connection.\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eThere is a Prerequisites to running this operations:\u003c/p\u003e\u003cp\u003eBefore starting, ensure you have the following installed:\u003c/p\u003e\u003cul\u003e\u003cli\u003ePython (3.x recommended)\u003c/li\u003e\u003cli\u003eFlask\u003c/li\u003e\u003cli\u003eMySQL Server\u003c/li\u003e\u003cli\u003e\u003ccode\u003eflask_mysqldb\u003c/code\u003e\u0026nbsp;library (\u003ccode\u003epip install flask-mysqldb\u003c/code\u003e)\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eIf we already fulfilled the prerequisites, we will going to install the mysql to the flask application:\u003c/p\u003e\u003c/div\u003e\u003cdiv id=\"content-4\"\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003epip install flask-mysqldb\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv id=\"content-5\"\u003e\u003cp\u003eOnce the installation is completed, we will initiate all the MySql configuration. in this lab we will going to initiate the configurations file trough the \u003cstrong\u003e\u003cu\u003eapp.py\u003c/u\u003e\u003c/strong\u003e file. This is not recommended if the application continue grows to large scale. but for this demonstration, we are going to do that.\u003c/p\u003e\u003c/div\u003e\u003cdiv id=\"content-11\"\u003e\u003ch1\u003eConfigure the MYSQL Connections\u003c/h1\u003e\u003c/div\u003e\u003cdiv id=\"content-12\"\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003efrom flask import Flask, request, jsonify\nfrom flask_mysqldb import MySQL\n\napp = Flask(__name__)\napp.config['MYSQL_HOST'] = 'localhost'\napp.config['MYSQL_USER'] = 'username'\napp.config['MYSQL_PASSWORD'] = 'password'\napp.config['MYSQL_DB'] = 'database_name'\n\nmysql = MySQL(app)\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv id=\"content-14\"\u003e\u003cp\u003ein the app.py, im importing the flask_mysqldb that we are already installed so we can use it in the app.py file later. after import the module. initiate the mysql configuration just like above. fill the neccessary field such as the password for db, the host user, etc. depends non your localhost mysql server.\u003c/p\u003e\u003cp\u003eit will be good if we try to running the flask server application and there is no anomaly when we are running it. when there is nothing error when we are running the flask server. that means that out mysql connection configurations form the flask is successful. and we will continue to do some basic mysql operations in this flask server.\u003c/p\u003e\u003c/div\u003e\u003cdiv id=\"content-15\"\u003e\u003ch1\u003eCREATE OPERATIONS\u003c/h1\u003e\u003c/div\u003e\u003cdiv id=\"content-16\"\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003eapp.route('/insert', methods=['POST'])\ndef insert():\n    cur = mysql.connection.cursor()\n    data = request.get_json()\n    name = data['name']\n    age = data['age']\n    cur.execute(\"INSERT INTO users (name, age) VALUES (%s, %s)\", (name, age))\n    mysql.connection.commit()\n    cur.close()\n    return jsonify({'message': 'Data inserted successfully'})\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv id=\"content-17\"\u003e\u003cp\u003eThis code snippet defines a route in a Flask application (\u003ccode\u003e/insert\u003c/code\u003e) that handles POST requests. When a POST request is made to this endpoint, the function \u003ccode\u003einsert()\u003c/code\u003e is executed.\u003c/p\u003e\u003cp\u003eInside \u003ccode\u003einsert()\u003c/code\u003e, it establishes a connection to the MySQL database using \u003ccode\u003eflask_mysqldb\u003c/code\u003e, extracts JSON data containing \u003ccode\u003ename\u003c/code\u003e and \u003ccode\u003eage\u003c/code\u003e from the request body, and inserts this data into the \u003ccode\u003eusers\u003c/code\u003e table using an SQL \u003ccode\u003eINSERT\u003c/code\u003e statement.\u003c/p\u003e\u003cp\u003eAfter committing the transaction to the database and closing the cursor, it returns a JSON response confirming successful data insertion. This functionality demonstrates how to integrate MySQL database operations seamlessly into a Flask web application for handling data input.\u003c/p\u003e\u003c/div\u003e\u003cdiv id=\"content-18\"\u003e\u003ch1\u003eREAD OPERATIONS\u003c/h1\u003e\u003c/div\u003e\u003cdiv id=\"content-19\"\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003e@app.route('/users', methods=['GET'])\ndef users():\n    cur = mysql.connection.cursor()\n    cur.execute(\"SELECT * FROM users\")\n    results = cur.fetchall()\n    cur.close()\n    users_list = []\n    for row in results:\n        user = {\n            'id': row[0],\n            'name': row[1],\n            'age': row[2]\n        }\n        users_list.append(user)\n    return jsonify({'users': users_list})\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv id=\"content-21\"\u003e\u003cp\u003eLet brak down the code piece by piece!\u003c/p\u003e\u003cp\u003eSo This code snippet defines a route in a Flask application (\u003ccode\u003e/users\u003c/code\u003e) that handles GET requests. When a GET request is made to this endpoint, the function\u0026nbsp;\u003ccode\u003eusers()\u003c/code\u003e\u0026nbsp;is executed.\u003c/p\u003e\u003cp\u003eInside\u0026nbsp;\u003ccode\u003eusers()\u003c/code\u003e, it establishes a connection to the MySQL database using\u0026nbsp;\u003ccode\u003eflask_mysqldb\u003c/code\u003e, executes an SQL\u0026nbsp;\u003ccode\u003eSELECT\u003c/code\u003e\u0026nbsp;query to fetch all records from the\u0026nbsp;\u003ccode\u003eusers\u003c/code\u003e\u0026nbsp;table, and fetches all results using\u0026nbsp;\u003ccode\u003ecur.fetchall()\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eAfter retrieving the results, it closes the database cursor to release resources. Then, it iterates through the fetched results to construct a list of dictionaries (\u003ccode\u003eusers_list\u003c/code\u003e), where each dictionary represents a user with keys\u0026nbsp;\u003ccode\u003eid\u003c/code\u003e,\u0026nbsp;\u003ccode\u003ename\u003c/code\u003e, and\u0026nbsp;\u003ccode\u003eage\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eFinally, it returns a JSON response containing the list of users in the format\u0026nbsp;\u003ccode\u003e{'users': users_list}\u003c/code\u003e. This functionality demonstrates how to retrieve and format data from a MySQL database using Flask, making it accessible via an API endpoint. Very Simple is in it?\u003c/p\u003e\u003c/div\u003e\u003cdiv id=\"content-22\"\u003e\u003ch1\u003eConclusion\u003c/h1\u003e\u003c/div\u003e\u003cdiv id=\"content-23\"\u003e\u003cp\u003eBy following these steps, you can effectively integrate MySQL into your Flask applications using \u003ccode\u003eflask_mysqldb\u003c/code\u003e. This setup enables you to perform essential database operations seamlessly within your web development projects.\u003c/p\u003e\u003c/div\u003e","image":"https://firebasestorage.googleapis.com/v0/b/personal-blog-darmajr.appspot.com/o/blog-content%2Fmysql_flask.png?alt=media\u0026token=9890d7a0-79cc-4ed1-beae-0b916b9f72e1","image_alt":"SQL + Flask","short_description":"This lab will cover the installation and usage of the flask_mysqldb library. It will include instructions on installing the library, initializing the database in app.py, and providing examples of how to post data and read data from the database.","timestamp":"2024-09-20 11:57:42","title":"Integrate Mysql to Flask"}},"__N_SSG":true},"page":"/labs/[slug]","query":{"slug":"4e309d73-dc31-47b8-816a-901fd092368d"},"buildId":"A-n-baZxhaPab-FReiSSJ","assetPrefix":"/Labs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>