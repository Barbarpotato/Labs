<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>React PWA Fundamental</title><meta name="description" content="A Progressive Web App is a type of web application that combines the best features of web and mobile applications. PWAs can be accessed through a web browser but can also be installed on a user&#x27;s device like traditional mobile apps."/><meta property="og:title" content="React PWA Fundamental"/><meta property="og:description" content="A Progressive Web App is a type of web application that combines the best features of web and mobile applications. PWAs can be accessed through a web browser but can also be installed on a user&#x27;s device like traditional mobile apps."/><meta property="og:type" content="article"/><meta property="og:url" content="https://barbarpotato.github.io/labs/undefined"/><meta name="next-head-count" content="8"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Labs/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/Labs/_next/static/chunks/webpack-a39982bd6f80347b.js" defer=""></script><script src="/Labs/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/Labs/_next/static/chunks/main-1e09b50edce1e67f.js" defer=""></script><script src="/Labs/_next/static/chunks/pages/_app-753213cf38d40131.js" defer=""></script><script src="/Labs/_next/static/chunks/pages/labs/%5Bslug%5D-b6b888b0a2f30cff.js" defer=""></script><script src="/Labs/_next/static/A-n-baZxhaPab-FReiSSJ/_buildManifest.js" defer=""></script><script src="/Labs/_next/static/A-n-baZxhaPab-FReiSSJ/_ssgManifest.js" defer=""></script></head><body><div id="__next"><article><h1>React PWA Fundamental</h1><p>2024-09-20 11:37:12</p><div><h1>React PWA Fundamental</h1><p>A Progressive Web App is a type of web application that combines the best features of web and mobile applications. PWAs can be accessed through a web browser but can also be installed on a user's device like traditional mobile apps. Some key features of PWAs include:</p><ul><li>The ability to work offline</li><li>Fast performance</li><li>Responsive display on various devices</li><li>Access through an icon on the device's home screen</li></ul><p>in this case we will be focused on how to make our react applicaion running on offline, get the requested react module from cache instead from the server. we will be learn about how to cache the customs api fetch that can be store to our react application.</p><h2>What Are Service Workers?</h2><p>Service Workers are a crucial part of PWAs. They are JavaScript files that run in the background and enable features like offline caching, push notifications, and background sync. Service Workers act as intermediaries between your web application and the network, allowing you to control how your PWA behaves in various scenarios.</p><h2>VITE React PWA</h2><p>In Vite React Project, there is some special configuration needed to applied the Progressive Web App. Below is the step-by-step to configure the PWA.</p><h3>Installing vite-plugin-pwa</h3><p>First we need to install the vite-plugin-pwa plugin, just add it to your project as a dev dependency:</p><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">npm install -D vite-plugin-pwa</code></pre><p>Note: to running the implementation of PWA, we need to to build our react vite project, then running the react vite project trough npm run preview. There is some extra configuration to make implementation of PWA running in development mode.</p><h3>Configuring vite-plugin-pwa</h3><p>Edit your vite.config.js / vite.config.ts file and add the vite-plugin-pwa:</p><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">import { defineConfig } from 'vite'
import { VitePWA } from 'vite-plugin-pwa'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    react(),
    VitePWA({
      registerType: 'autoUpdate',
      workbox: {
        globPatterns: ['**/*.{js,css,html,ico,png,svg}']
      }
    })
  ],
})</code></pre><h3>Cache External Resources</h3><p>If you have some additional resource like font and css, you must include them into the service workerpre-cache and so your application will work when offline. But in this scenario, we will trying to use some free-api named: https://jsonplaceholder.typicode.com. to fetch the data from it and then stored it to the cache browser. so it can be rendered to a front-end page without the network traffic. The implementation is very easy. we need to addd some property in workbox object named :runtimeCaching. Below the example of how to use it:</p><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;"> runtimeCaching: [
          {
            urlPattern: ({ url }) =&gt; {
              return url.pathname.match('/posts/1')
            },
            handler: 'CacheFirst',
            options: {
              cacheName: 'api-cache',
              cacheableResponse: {
                statuses: [0, 200]
              }
            }
          }
        ]</code></pre><h2>Result Excercise</h2><p>Below is the result example of how the PWA can running the application without the network traffic and requested from the server.</p><img src='https://raw.githubusercontent.com/Barbarpotato/React-PWA-Fundamental/main/git-images/Result.png?token=GHSAT0AAAAAABT2NYLCZWUIB25VOK65BHRIZI6WNAA'/><h2>Service Worker without PWA capabilities</h2><p>Sometimes you don't need the full blown PWA functionality like offline cache and manifest file, but need simple custom Service Worker.</p><h3>Setup the Service Worker</h3><p>You can first check the browsers are supporting the service worker by create the script like below:</p><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">  &lt;script&gt;
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () =&gt; {
        navigator.serviceWorker.register('/src/serviceWorker.js').then((reg) =&gt; {
          console.log('Worker Registered!')
        }).catch(err =&gt; {
          console.log('Error in service Worker', err)
        })
      })
    }
  &lt;/script&gt;</code></pre><p>This this code is responsible for registering a service worker for your web application.</p><h2>Offline Caching</h2><p>If the services worker is available (it whill show the Worker Registered in your broswer console). Now let's create the serviceWorker.js file in public directory. We can squeeze the serviceWorker file by create some eventlistener that installed some assests from server to Cache Storage. So the client is not calling the resource from the server anymore instead calling from the client browser cache data.</p><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">self.addEventListener('install', (event) =&gt; {
    event.waitUntil(
        caches.open('PWA-Cache').then((caches) =&gt; {
            console.log('Opened Cache')
            return caches.addAll([
                './assets/react.svg',
                '/vite.svg'
            ])
        })
    )
})</code></pre><p>The purpose of this install event handler is to cache these specified assets when the service worker is first installed. Once the assets are cached, they can be served from the cache even if the user is offline, providing offline access to these resources. This is a fundamental step in building Progressive Web Apps (PWAs) that work seamlessly offline.</p><p><br></p><p>After installing all assest from the server to the client. we need to tell the browser that whenever we fetch the data, we need to check the browser cache data first before we calling the server resource. if the client request it is same as the data from a data cache browser, then just use the cache browser data. Below is the example of how the explanation above implemented in javascript:</p><pre style="background-color: black; color: white; padding:10px; border-radius: 5px;"><code style="color: white;">self.addEventListener('fetch', (event) =&gt; {
    event.respondWith(
        caches.match(event.request).then((response) =&gt; {
            if (response) {
                // Cache hit, return the response
                return response;
            }
            // Not found in cache, fetch from the network
            return fetch(event.request);
        })
    );
});</code></pre></div></article></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"blog_id":"14d690d3-2201-43e4-b936-e06564ab67e2","description":"\u003ch1\u003eReact PWA Fundamental\u003c/h1\u003e\u003cp\u003eA Progressive Web App is a type of web application that combines the best features of web and mobile applications. PWAs can be accessed through a web browser but can also be installed on a user's device like traditional mobile apps. Some key features of PWAs include:\u003c/p\u003e\u003cul\u003e\u003cli\u003eThe ability to work offline\u003c/li\u003e\u003cli\u003eFast performance\u003c/li\u003e\u003cli\u003eResponsive display on various devices\u003c/li\u003e\u003cli\u003eAccess through an icon on the device's home screen\u003c/li\u003e\u003c/ul\u003e\u003cp\u003ein this case we will be focused on how to make our react applicaion running on offline, get the requested react module from cache instead from the server. we will be learn about how to cache the customs api fetch that can be store to our react application.\u003c/p\u003e\u003ch2\u003eWhat Are Service Workers?\u003c/h2\u003e\u003cp\u003eService Workers are a crucial part of PWAs. They are JavaScript files that run in the background and enable features like offline caching, push notifications, and background sync. Service Workers act as intermediaries between your web application and the network, allowing you to control how your PWA behaves in various scenarios.\u003c/p\u003e\u003ch2\u003eVITE React PWA\u003c/h2\u003e\u003cp\u003eIn Vite React Project, there is some special configuration needed to applied the Progressive Web App. Below is the step-by-step to configure the PWA.\u003c/p\u003e\u003ch3\u003eInstalling vite-plugin-pwa\u003c/h3\u003e\u003cp\u003eFirst we need to install the vite-plugin-pwa plugin, just add it to your project as a dev dependency:\u003c/p\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003enpm install -D vite-plugin-pwa\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNote: to running the implementation of PWA, we need to to build our react vite project, then running the react vite project trough npm run preview. There is some extra configuration to make implementation of PWA running in development mode.\u003c/p\u003e\u003ch3\u003eConfiguring vite-plugin-pwa\u003c/h3\u003e\u003cp\u003eEdit your vite.config.js / vite.config.ts file and add the vite-plugin-pwa:\u003c/p\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003eimport { defineConfig } from 'vite'\nimport { VitePWA } from 'vite-plugin-pwa'\nimport react from '@vitejs/plugin-react'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [\n    react(),\n    VitePWA({\n      registerType: 'autoUpdate',\n      workbox: {\n        globPatterns: ['**/*.{js,css,html,ico,png,svg}']\n      }\n    })\n  ],\n})\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003eCache External Resources\u003c/h3\u003e\u003cp\u003eIf you have some additional resource like font and css, you must include them into the service workerpre-cache and so your application will work when offline. But in this scenario, we will trying to use some free-api named: https://jsonplaceholder.typicode.com. to fetch the data from it and then stored it to the cache browser. so it can be rendered to a front-end page without the network traffic. The implementation is very easy. we need to addd some property in workbox object named :runtimeCaching. Below the example of how to use it:\u003c/p\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003e runtimeCaching: [\n          {\n            urlPattern: ({ url }) =\u0026gt; {\n              return url.pathname.match('/posts/1')\n            },\n            handler: 'CacheFirst',\n            options: {\n              cacheName: 'api-cache',\n              cacheableResponse: {\n                statuses: [0, 200]\n              }\n            }\n          }\n        ]\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eResult Excercise\u003c/h2\u003e\u003cp\u003eBelow is the result example of how the PWA can running the application without the network traffic and requested from the server.\u003c/p\u003e\u003cimg src='https://raw.githubusercontent.com/Barbarpotato/React-PWA-Fundamental/main/git-images/Result.png?token=GHSAT0AAAAAABT2NYLCZWUIB25VOK65BHRIZI6WNAA'/\u003e\u003ch2\u003eService Worker without PWA capabilities\u003c/h2\u003e\u003cp\u003eSometimes you don't need the full blown PWA functionality like offline cache and manifest file, but need simple custom Service Worker.\u003c/p\u003e\u003ch3\u003eSetup the Service Worker\u003c/h3\u003e\u003cp\u003eYou can first check the browsers are supporting the service worker by create the script like below:\u003c/p\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003e  \u0026lt;script\u0026gt;\n    if ('serviceWorker' in navigator) {\n      window.addEventListener('load', () =\u0026gt; {\n        navigator.serviceWorker.register('/src/serviceWorker.js').then((reg) =\u0026gt; {\n          console.log('Worker Registered!')\n        }).catch(err =\u0026gt; {\n          console.log('Error in service Worker', err)\n        })\n      })\n    }\n  \u0026lt;/script\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis this code is responsible for registering a service worker for your web application.\u003c/p\u003e\u003ch2\u003eOffline Caching\u003c/h2\u003e\u003cp\u003eIf the services worker is available (it whill show the Worker Registered in your broswer console). Now let's create the serviceWorker.js file in public directory. We can squeeze the serviceWorker file by create some eventlistener that installed some assests from server to Cache Storage. So the client is not calling the resource from the server anymore instead calling from the client browser cache data.\u003c/p\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003eself.addEventListener('install', (event) =\u0026gt; {\n    event.waitUntil(\n        caches.open('PWA-Cache').then((caches) =\u0026gt; {\n            console.log('Opened Cache')\n            return caches.addAll([\n                './assets/react.svg',\n                '/vite.svg'\n            ])\n        })\n    )\n})\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe purpose of this install event handler is to cache these specified assets when the service worker is first installed. Once the assets are cached, they can be served from the cache even if the user is offline, providing offline access to these resources. This is a fundamental step in building Progressive Web Apps (PWAs) that work seamlessly offline.\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003eAfter installing all assest from the server to the client. we need to tell the browser that whenever we fetch the data, we need to check the browser cache data first before we calling the server resource. if the client request it is same as the data from a data cache browser, then just use the cache browser data. Below is the example of how the explanation above implemented in javascript:\u003c/p\u003e\u003cpre style=\"background-color: black; color: white; padding:10px; border-radius: 5px;\"\u003e\u003ccode style=\"color: white;\"\u003eself.addEventListener('fetch', (event) =\u0026gt; {\n    event.respondWith(\n        caches.match(event.request).then((response) =\u0026gt; {\n            if (response) {\n                // Cache hit, return the response\n                return response;\n            }\n            // Not found in cache, fetch from the network\n            return fetch(event.request);\n        })\n    );\n});\u003c/code\u003e\u003c/pre\u003e","image":"https://firebasestorage.googleapis.com/v0/b/personal-blog-darmajr.appspot.com/o/blog-content%2Freact-pwa.png?alt=media\u0026token=2b264f65-ddf9-4b4a-afa8-efb39cb13c3d","image_alt":"Progressive Web App","short_description":"A Progressive Web App is a type of web application that combines the best features of web and mobile applications. PWAs can be accessed through a web browser but can also be installed on a user's device like traditional mobile apps.","timestamp":"2024-09-20 11:37:12","title":"React PWA Fundamental"}},"__N_SSG":true},"page":"/labs/[slug]","query":{"slug":"14d690d3-2201-43e4-b936-e06564ab67e2"},"buildId":"A-n-baZxhaPab-FReiSSJ","assetPrefix":"/Labs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>